# set terminal pngcairo  transparent enhanced font "arial,10" fontscale 1.0 size 600, 400 
set output 'aboxplot.svg'
set border 2 front lt black linewidth 1.000 dashtype solid
set boxwidth 0.5 absolute
set style fill   solid 0.50 border lt -1
unset key
set style increment default
set pointsize 0.5
set style data boxplot
set xtics border in scale 0,0 nomirror norotate  autojustify
set xtics  norangelimit 
set xtics   ("Nuclear" 1.00000, "Coal" 2.00000, "Gas" 3.00000, "Oil" 4.00000, "Hydroelectric" 5.00000, "Renewable" 6.00000)
set ytics border in scale 1,0.5 nomirror norotate  autojustify
set title "Distribution of energy usage explicitly ordered by name of energy source\n" 
set xrange [ * : * ] noreverse writeback
set x2range [ * : * ] noreverse writeback
set ylabel "Billion Tons of Oil Equivalent" 
set yrange [ * : * ] noreverse writeback
set y2range [ * : * ] noreverse writeback
set zrange [ * : * ] noreverse writeback
set cbrange [ * : * ] noreverse writeback
set rrange [ * : * ] noreverse writeback
set style boxplot candles range  1.50 nooutliers pt 7 separation 1 labels auto sorted
t(x) = x/1.e6
filter(col, factor_col, level) = (strcol(factor_col) eq word(factors, level)) ? t(column(col)) : 1/0
factors = "Nuclear Coal Gas Oil Hydroelectric Renewable"
NF = 6
## Last datafile plotted: "energy_circles.dat"
plot for [i=1:NF-2] 'energy_circles.dat' using (i):2:(filter(2, 1, i)), for [i=NF-1:NF] 'energy_circles.dat' using (i):2:(filter(2, 1, i)) noauto

